<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="../css/style.css">
  </head>
  <body>
    <div class="header-bg">
        <a href="parcour_list.html"><img src="../img/return.png" class="header-img"></a>
    </div>
    <div class="bg-wrapper">
    <div class="bg-dark">
    </div>
    <div class="bg-wrapper-2">
    <div class="bg-light">

    </div>
    </div>
    </div>
    <div class="container">
      <div class="bg-wrapper-header">
      <div class="header">
        <h1 style="font-size: 36px; padding: 20px; padding-bottom: 0;">Bewertungs-<br>auswahl</h1>
      </div>
      </div>
      <div class="content">
        <button class="create-btn" id="twoBtn">Zweipfeil</button><br>

        <button class="join-btn" id="threeBtn">Dreipfeil</button>
      </div>
      <div class="footer">
        <img src="../img/arrow.png" id="arrow_img_1">
        <img src="../img/arrow.png" id="arrow_img_2">
        <div class="target-circle" id="rating_choice_1">
          <span class="circle1">
            <span class="circle2">
              <span class="circle3">
                <span class="circle4">
                  <span class="circle5">
                    <span class="circle6">
                    </span>
                  </span>
                </span>
              </span>
            </span>
          </span>
        </div>
      </div>
    </div>
<div id="leaveOverlay">
  <div id="leaveModal">
    <h3><strong>Jagd beginnen?</strong></h3>
    <h6>
      PARCOUR: <span id="popupParcourName">-</span><br>
      BEWERTUNG: <span id="popupRatingMode">-</span>
    </h6>
    <div class="leave-actions">
      <button id="leaveYes">Ja</button>
      <button id="leaveNo">Nein</button>
    </div>
  </div>
</div>
<script>
const twoBtn = document.getElementById("twoBtn");
const threeBtn = document.getElementById("threeBtn");
const overlay = document.getElementById("leaveOverlay");
const yesBtn = document.getElementById("leaveYes");
const noBtn = document.getElementById("leaveNo");

const popupParcourName = document.getElementById("popupParcourName");
const popupRatingMode = document.getElementById("popupRatingMode");

// Parcour-Name aus LocalStorage holen
const selectedParcour = localStorage.getItem("selectedParcour");
popupParcourName.textContent = selectedParcour || "Unbekannt";

let selectedMode = null;

twoBtn.addEventListener("click", () => {
  selectedMode = "Zweipfeil";
  popupRatingMode.textContent = selectedMode;
  overlay.style.display = "flex";
});

threeBtn.addEventListener("click", () => {
  selectedMode = "Dreipfeil";
  popupRatingMode.textContent = selectedMode;
  overlay.style.display = "flex";
});

yesBtn.addEventListener("click", () => {
  if (!selectedMode) return;

  localStorage.setItem("ratingMode", selectedMode);
  window.location.href = "score_counter.html";
});

noBtn.addEventListener("click", () => {
  overlay.style.display = "none";
  selectedMode = null;
});

overlay.addEventListener("click", (e) => {
  if (e.target === overlay) {
    overlay.style.display = "none";
    selectedMode = null;
  }
});
</script>


  </body>
</html>
